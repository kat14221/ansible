---
# Playbook: Configuraci√≥n de Automatizaci√≥n de Tareas
# Descripci√≥n: Configura tareas cron y scripts de automatizaci√≥n

- name: Configurar Automatizaci√≥n de Tareas
  hosts: debian_router
  become: yes
  gather_facts: yes
  
  tasks:
    - name: Aplicar rol de automatizaci√≥n
      include_role:
        name: automation-tasks
      tags: automation

- name: Resumen de Automatizaci√≥n
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Mostrar resumen completo
      debug:
        msg:
          - "=========================================="
          - "‚úÖ AUTOMATIZACI√ìN CONFIGURADA"
          - "=========================================="
          - ""
          - "üìã TAREAS CRON ACTIVAS:"
          - "   1. Backup diario (2:00 AM)"
          - "   2. Limpieza semanal (3:00 AM domingos)"
          - "   3. Actualizaciones seguridad (4:00 AM lunes)"
          - "   4. Monitoreo servicios (cada 5 minutos)"
          - "   5. Reporte diario (8:00 AM)"
          - "   6. Rotaci√≥n logs (1:00 AM)"
          - ""
          - "üìÅ SCRIPTS CREADOS:"
          - "   ‚Ä¢ /usr/local/bin/backup_configs.sh"
          - "   ‚Ä¢ /usr/local/bin/cleanup_logs.sh"
          - "   ‚Ä¢ /usr/local/bin/security_updates.sh"
          - "   ‚Ä¢ /usr/local/bin/check_services.sh"
          - "   ‚Ä¢ /usr/local/bin/system_report.sh"
          - "   ‚Ä¢ /usr/local/bin/rotate_firewall_logs.sh"
          - ""
          - "üìä VERIFICACI√ìN:"
          - "   ssh ansible@172.17.25.126"
          - "   sudo crontab -l"
          - "   sudo tail -f /var/log/automation/*.log"
          - ""
          - "üéØ NIVEL ALCANZADO: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê"
          - "   'Automatizaci√≥n robusta y validada'"
          - "=========================================="
