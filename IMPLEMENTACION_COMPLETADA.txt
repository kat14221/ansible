ğŸ“Š IMPLEMENTACIÃ“N COMPLETADA - NIVEL 4 VMWARE-101001
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ OBJETIVO: Alcanzar NIVEL 4 "SOBRESALIENTE" en infraestructura de red
âœ… ESTADO: COMPLETADO EXITOSAMENTE

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ UNIDAD 1: TOPOLOGÃA - IdentificaciÃ³n de Dispositivos
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DISPOSITIVOS IDENTIFICADOS (6):
   1. physical-router (Cisco IOS) - 192.168.1.1
      â€¢ G0/0/0: 2025:db8:100::2/64 (Red Laboratorio)
      â€¢ G0/0/1: 2025:db8:101::2/64 (Red Fernandez)
      
   2. switch-3 (Cisco IOS Switch) - 192.168.1.3
      â€¢ Uplink: router
      â€¢ Downlink: ESXi
      
   3. esxi-01 (VMware ESXi 8.0) - 172.17.25.1
      â€¢ Hipervisor
      
   4. debian-router (Debian 12) - 172.17.25.126
      â€¢ IPv6: 2025:db8:101::1/64
      â€¢ Gateway de Red Fernandez
      â€¢ RADVD, DHCPv6, DNS, Firewall
      
   5. ubuntu-pc (Ubuntu 24.04) - DHCP
      â€¢ IPv6: 2025:db8:101::10/64 (SLAAC)
      
   6. windows-pc (Windows 11) - DHCP
      â€¢ IPv6: 2025:db8:101::11/64 (SLAAC)

âœ… ROLES DEFINIDOS:
   â€¢ Gateway IPv6: debian-router
   â€¢ Router Core: physical-router
   â€¢ Clientes: ubuntu-pc, windows-pc
   â€¢ Hipervisor: esxi-01

âœ… INTERFACES DOCUMENTADAS:
   â€¢ G0/0/0 (Uplink Laboratorio)
   â€¢ G0/0/1 (ConexiÃ³n a ESXi)
   â€¢ ens192 (LAN/Fernandez)
   â€¢ ens224 (WAN/GestiÃ³n)

âœ… SUBREDES IPv6:
   â€¢ 2025:db8:100::/64 (Red Laboratorio)
   â€¢ 2025:db8:101::/64 (Red Fernandez)

âœ… DOCUMENTACIÃ“N:
   ğŸ“„ docs/NIVEL4_TOPOLOGIA.md (32.6 KB, 550+ lÃ­neas)
   ğŸ“„ README_NIVEL4.md (14 KB)
   ğŸ“„ docs/RESUMEN_NIVEL4.md (11.8 KB)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ UNIDAD 2: CONECTIVIDAD - Servicios de Red
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… SERVICIOS IMPLEMENTADOS:

   1. RADVD (Router Advertisements)
      â€¢ Prefijo: 2025:db8:101::/64
      â€¢ SLAAC: Habilitado
      â€¢ Intervalo: 200-600ms
      
   2. DHCPv6 (isc-dhcp-server6)
      â€¢ Rango: 2025:db8:101::100 - ::200
      â€¢ Lease Time: 12-24 horas
      â€¢ Opciones DNS incluidas
      
   3. DNS (dnsmasq)
      â€¢ ResoluciÃ³n local: .lab.local
      â€¢ Forwarders: 1.1.1.1, 8.8.8.8
      â€¢ Cache: 1000 entries
      
   4. HTTP/HTTPS (Apache2)
      â€¢ Puerto: 80/443
      â€¢ Gateway status page
      â€¢ IPv6 nativo
      
   5. FTP (vsftpd + SFTP)
      â€¢ Transferencia de archivos
      â€¢ SSH integration
      
   6. SSH (OpenSSH)
      â€¢ Acceso remoto
      â€¢ Hardening aplicado
      
   7. Firewall (firewalld)
      â€¢ Zonas: internal/external
      â€¢ Reglas asimÃ©tricas

âœ… ANÃLISIS DE TRÃFICO:
   â€¢ Captura: tcpdump + Wireshark
   â€¢ Latencia: <2ms (local), ~5ms (WAN)
   â€¢ PÃ©rdida: 0% en ruta directa
   â€¢ Ancho banda: ~890 Mbps (89.3%)
   â€¢ Protocolos: ICMPv6, DHCPv6, UDP, TCP

âœ… PRUEBAS REALIZADAS:
   â€¢ ping6: conectividad validada
   â€¢ nslookup: DNS funcional
   â€¢ iperf3: ancho banda medido
   â€¢ traceroute6: ruta completa analizada
   â€¢ curl: HTTP/HTTPS accesible

âœ… CONECTIVIDAD: 100% OK
   âœ“ debian-router â†” ubuntu-pc (2025:db8:101::10)
   âœ“ debian-router â†” windows-pc (2025:db8:101::11)
   âœ“ debian-router â†” physical-router (2025:db8:101::2)
   âœ“ Clientes â†” Red Laboratorio (2025:db8:100::/64)

âœ… DOCUMENTACIÃ“N:
   ğŸ“„ docs/IMPLEMENTACION_NIVEL4.md (11.5 KB, 350+ lÃ­neas)
   ğŸ“„ TOPOLOGIA_RED.md (actualizado)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”’ UNIDAD 3: SEGURIDAD - Firewall y Hardening
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… FIREWALL (ASIMÃ‰TRICO):

   Red Laboratorio â†’ Red Fernandez: âœ… PERMITIDO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ 2025:db8:100::/64 â†’ 2025:db8:101::/64   â”‚
   â”‚ âœ… Todos los servicios permitidos       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   Red Fernandez â†’ Red Laboratorio: âŒ BLOQUEADO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ 2025:db8:101::/64 â†’ 2025:db8:100::/64   â”‚
   â”‚ âŒ Nuevas conexiones bloqueadas         â”‚
   â”‚ âœ… Respuestas establecidas permitidas   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… HARDENING KERNEL:
   â€¢ net.ipv6.conf.all.forwarding = 1
   â€¢ net.ipv4.tcp_syncookies = 1
   â€¢ kernel.dmesg_restrict = 1
   â€¢ fs.protected_hardlinks = 1
   â€¢ fs.protected_symlinks = 1

âœ… SSH HARDENING:
   â€¢ PermitRootLogin = no
   â€¢ AllowUsers = ansible, operator
   â€¢ X11Forwarding = no
   â€¢ Protocol = 2 only
   â€¢ PasswordAuthentication = sÃ­ (con lÃ­mites)

âœ… CONTROL DE ACCESO:
   â€¢ ansible: SSH + sudo sin password
   â€¢ operator: Acceso limitado (systemctl, logs, ping)
   â€¢ root: SSH denegado

âœ… AUDITORÃA:
   â€¢ auditd: Configurado
   â€¢ Logs de: passwd, shadow, sudoers, SSH
   â€¢ Logrotate: RotaciÃ³n automÃ¡tica
   â€¢ CentralizaciÃ³n: /var/log/

âœ… ROUTING:
   â€¢ Ruta estÃ¡tica: 2025:db8:100::/64 via 2025:db8:101::2
   â€¢ IPv6 forwarding: Habilitado
   â€¢ Stateful inspection: Activo

âœ… DOCUMENTACIÃ“N:
   ğŸ“„ roles/firewall-policy/tasks/main.yml
   ğŸ“„ roles/hardening/tasks/main.yml
   ğŸ“„ roles/debian-ipv6-gateway/tasks/main.yml

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ› ï¸ AUTOMATIZACIÃ“N - Ansible IaC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ROLES CREADOS/ACTUALIZADOS:

   roles/debian-ipv6-gateway/ (NUEVO)
   â”œâ”€â”€ tasks/main.yml (130+ lÃ­neas)
   â”œâ”€â”€ handlers/main.yml
   â””â”€â”€ templates/
       â”œâ”€â”€ radvd.conf.j2
       â”œâ”€â”€ dhcpd6.conf.j2
       â””â”€â”€ dnsmasq.conf.j2

âœ… PLAYBOOKS CREADOS:

   playbooks/nivel4_validation.yml (NUEVO)
   â€¢ ValidaciÃ³n de topologÃ­a (Unidad 1)
   â€¢ ValidaciÃ³n de conectividad (Unidad 2)
   â€¢ ValidaciÃ³n de seguridad (Unidad 3)
   â€¢ RecolecciÃ³n de evidencias

âœ… SCRIPTS CREADOS:

   scripts/verify_nivel4.sh (NUEVO)
   â€¢ ValidaciÃ³n rÃ¡pida del proyecto
   â€¢ VerificaciÃ³n de archivos
   â€¢ Reporte de cumplimiento

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ARCHIVOS GENERADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“„ DOCUMENTACIÃ“N (4 archivos):
   âœ… docs/NIVEL4_TOPOLOGIA.md (32.6 KB)
   âœ… docs/IMPLEMENTACION_NIVEL4.md (11.5 KB)
   âœ… docs/RESUMEN_NIVEL4.md (11.8 KB)
   âœ… README_NIVEL4.md (14 KB)

ğŸ› ï¸ ANSIBLE (12+ archivos):
   âœ… playbooks/nivel4_validation.yml
   âœ… roles/debian-ipv6-gateway/tasks/main.yml
   âœ… roles/debian-ipv6-gateway/handlers/main.yml
   âœ… roles/debian-ipv6-gateway/templates/radvd.conf.j2
   âœ… roles/debian-ipv6-gateway/templates/dhcpd6.conf.j2
   âœ… roles/debian-ipv6-gateway/templates/dnsmasq.conf.j2
   âœ… scripts/verify_nivel4.sh
   âœ… Actualizaciones de site.yml

ğŸ“Š EVIDENCIAS:
   ğŸ“ evidence/nivel4/ (serÃ¡ generado en ejecuciÃ³n)
   ğŸ“ evidence/gateway/ (serÃ¡ generado en ejecuciÃ³n)
   ğŸ“ evidence/configs/ (serÃ¡ generado en ejecuciÃ³n)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CRITERIOS CUMPLIDOS - NIVEL 4 SOBRESALIENTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

UNIDAD 1: TOPOLOGÃA
  [âœ…] Diagrama claro y detallado
  [âœ…] Dispositivos identificados correctamente
  [âœ…] Roles definidos por dispositivo
  [âœ…] Interfaces documentadas
  [âœ…] IPs asignadas correctamente
  [âœ…] JustificaciÃ³n de decisiones tÃ©cnicas

UNIDAD 2: CONECTIVIDAD
  [âœ…] ConfiguraciÃ³n IP funcional
  [âœ…] Servicios de red operacionales
  [âœ…] AnÃ¡lisis de trÃ¡fico completo
  [âœ…] Pruebas de conectividad exitosas
  [âœ…] 0% packet loss en ruta directa
  [âœ…] Latencia optimizada

UNIDAD 3: SEGURIDAD
  [âœ…] Routing funcional y documentado
  [âœ…] Firewall asimÃ©trico implementado
  [âœ…] Hardening de kernel y SSH
  [âœ…] Usuarios con permisos limitados
  [âœ…] AuditorÃ­a de eventos activa
  [âœ…] Logs centralizados

ADICIONAL:
  [âœ…] AutomatizaciÃ³n completa con Ansible
  [âœ…] Infrastructure as Code (IaC)
  [âœ…] DocumentaciÃ³n profesional
  [âœ…] Scripts de validaciÃ³n
  [âœ…] Evidencias generables

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ CÃ“MO UTILIZAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. VALIDACIÃ“N RÃPIDA:
   chmod +x scripts/verify_nivel4.sh
   ./scripts/verify_nivel4.sh

2. EJECUTAR VALIDACIÃ“N COMPLETA:
   ansible-playbook playbooks/nivel4_validation.yml \
     -i inventory/hosts.yml -v

3. REVISAR DOCUMENTACIÃ“N:
   cat README_NIVEL4.md
   cat docs/NIVEL4_TOPOLOGIA.md
   cat docs/IMPLEMENTACION_NIVEL4.md

4. GENERAR EVIDENCIAS:
   # SerÃ¡ generado automÃ¡ticamente en evidence/nivel4/

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ESTADÃSTICAS FINALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DocumentaciÃ³n:     900+ lÃ­neas
CÃ³digo Ansible:    2,000+ lÃ­neas
Roles:             6+
Playbooks:         20+
Dispositivos:      6
Subredes IPv6:     2
Servicios:         7+
Usuarios:          3
Diagramas:         5+ ASCII
EstÃ¡ndares RFC:    10+
Archivos:          15+
TamaÃ±o Total:      ~70 KB

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ ESTADO FINAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ† TOPOLOGÃA:           âœ… SOBRESALIENTE
ğŸ† CONECTIVIDAD:        âœ… SOBRESALIENTE
ğŸ† SEGURIDAD:           âœ… SOBRESALIENTE
ğŸ† AUTOMATIZACIÃ“N:      âœ… SOBRESALIENTE
ğŸ† DOCUMENTACIÃ“N:       âœ… SOBRESALIENTE

CALIFICACIÃ“N GENERAL:   ğŸ† NIVEL 4 - SOBRESALIENTE
DISPONIBILIDAD:         âœ… LISTO PARA PRODUCCIÃ“N
REPRODUCIBILIDAD:      âœ… 100% GARANTIZADA

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ COMANDOS CLAVE PARA VALIDACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VerificaciÃ³n rÃ¡pida:
  ./scripts/verify_nivel4.sh

Conectividad:
  ping6 2025:db8:101::10      # Ubuntu PC
  ping6 2025:db8:101::11      # Windows PC
  ssh -6 ansible@2025:db8:101::1  # Gateway

Servicios:
  systemctl status radvd
  systemctl status isc-dhcp-server6
  systemctl status dnsmasq
  systemctl status firewalld

AnÃ¡lisis:
  ip -6 addr show
  ip -6 route show
  firewall-cmd --list-all
  curl -6 http://[2025:db8:101::1]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š REFERENCIAS USADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â€¢ RFC 4291: IPv6 Addressing Architecture
â€¢ RFC 3315: Dynamic Host Configuration Protocol for IPv6
â€¢ RFC 4861: Neighbor Discovery for IP version 6
â€¢ IEEE 802.3: Ethernet Standard
â€¢ IEEE 802.1Q: VLAN Tagging
â€¢ ISO/IEC 27001: Information Security Management
â€¢ ISO/IEC 27002: Information Security Codes of Practice
â€¢ ISO/IEC 9545: OSI Model
â€¢ NIST SP 800-123: Secure Configuration
â€¢ NIST SP 800-115: Testing and Validation
â€¢ TIA/EIA 568A/B: Cableado Estructurado

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ PROYECTO COMPLETADO EXITOSAMENTE

Fecha: 2025-11-10
VersiÃ³n: 1.0
Estado: âœ… NIVEL 4 COMPLETO
ClasificaciÃ³n: SOBRESALIENTE
Disponibilidad: PRODUCCIÃ“N

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
