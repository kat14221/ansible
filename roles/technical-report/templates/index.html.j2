<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√çndice de Informes - VMWARE-101001</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; text-align: center; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .section h3 { color: #333; border-bottom: 2px solid #667eea; padding-bottom: 5px; }
        .host-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .host-card { background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #667eea; }
        .host-card h4 { margin-top: 0; color: #333; }
        .host-card a { color: #667eea; text-decoration: none; font-weight: bold; }
        .host-card a:hover { text-decoration: underline; }
        .status-ok { color: #28a745; }
        .status-warning { color: #ffc107; }
        .status-error { color: #dc3545; }
        .summary-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; text-align: center; }
        .stat-number { font-size: 2em; font-weight: bold; }
        .timestamp { font-size: 12px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Informes T√©cnicos</h1>
            <h2>Proyecto: Red Acad√©mica IPv6 VMWARE-101001</h2>
            <p class="timestamp">Generado: {{ ansible_date_time.iso8601 }}</p>
        </div>

        <!-- Estad√≠sticas Resumen -->
        <div class="section">
            <h3>üìà Resumen del Proyecto</h3>
            <div class="summary-stats">
                <div class="stat-card">
                    <div class="stat-number">{{ groups['all'] | length }}</div>
                    <div>Hosts Totales</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ groups['linux_servers'] | length if groups['linux_servers'] is defined else 0 }}</div>
                    <div>Servidores Linux</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ groups['network_devices'] | length if groups['network_devices'] is defined else 0 }}</div>
                    <div>Dispositivos de Red</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ groups['windows_hosts'] | length if groups['windows_hosts'] is defined else 0 }}</div>
                    <div>Hosts Windows</div>
                </div>
            </div>
        </div>

        <!-- Informes por Host -->
        <div class="section">
            <h3>üñ•Ô∏è Informes por Host</h3>
            <div class="host-grid">
                {% for host in groups['all'] %}
                <div class="host-card">
                    <h4>{{ host }}</h4>
                    <p><strong>IP:</strong> {{ hostvars[host]['ansible_host'] | default('N/A') }}</p>
                    <p><strong>Tipo:</strong> 
                        {% if host in groups['linux_servers'] %}
                            <span class="status-ok">üêß Linux Server</span>
                        {% elif host in groups['network_devices'] %}
                            <span class="status-warning">üîß Network Device</span>
                        {% elif host in groups['windows_hosts'] %}
                            <span class="status-warning">ü™ü Windows Host</span>
                        {% else %}
                            <span class="status-error">‚ùì Unknown</span>
                        {% endif %}
                    </p>
                    <p><strong>Funci√≥n:</strong>
                        {% if host == 'debian-router' %}
                            Router IPv6 Principal
                        {% elif host == 'ubuntu-pc' %}
                            Cliente Linux
                        {% elif host == 'windows-pc' %}
                            Cliente Windows
                        {% elif host == 'physical-router' %}
                            Router F√≠sico Cisco
                        {% elif 'switch' in host %}
                            Switch de Red
                        {% else %}
                            Dispositivo de Red
                        {% endif %}
                    </p>
                    <p>
                        <a href="{{ host }}_technical_report.html">üìÑ Ver Informe Detallado</a>
                    </p>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Topolog√≠a de Red -->
        <div class="section">
            <h3>üåê Topolog√≠a de Red</h3>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 5px; font-family: monospace;">
                <pre>
Red Laboratorio (2025:db8:100::/64)
    ‚Üì
physical-router (2025:db8:100::2 / 2025:db8:101::2)
    ‚Üì
switch-3 (L2 Bridge)
    ‚Üì
ESXi Hypervisor (172.17.25.1)
    ‚Üì
Red Fernandez (2025:db8:101::/64)
    ‚îú‚îÄ‚îÄ debian-router (::1) - Gateway/DHCP/HTTP
    ‚îú‚îÄ‚îÄ ubuntu-pc (::10) - Cliente SLAAC
    ‚îî‚îÄ‚îÄ windows-pc (::11) - Cliente SLAAC
                </pre>
            </div>
        </div>

        <!-- Enlaces R√°pidos -->
        <div class="section">
            <h3>üîó Enlaces R√°pidos</h3>
            <div class="host-grid">
                <div class="host-card">
                    <h4>üìä Informe Consolidado</h4>
                    <p>Vista general de todos los hosts</p>
                    <a href="consolidated_report.html">Ver Informe Consolidado</a>
                </div>
                <div class="host-card">
                    <h4>üìÅ Evidencias</h4>
                    <p>Archivos de configuraci√≥n y logs</p>
                    <a href="../configs/">Ver Configuraciones</a><br>
                    <a href="../pings/">Ver Tests de Conectividad</a><br>
                    <a href="../pcaps/">Ver Capturas de Tr√°fico</a>
                </div>
                <div class="host-card">
                    <h4>üìã Documentaci√≥n</h4>
                    <p>Documentaci√≥n del proyecto</p>
                    <a href="../../README.md">README Principal</a><br>
                    <a href="../../GUIA_USO.md">Gu√≠a de Uso</a><br>
                    <a href="../../docs/CONTEXTO.md">Contexto Acad√©mico</a>
                </div>
                <div class="host-card">
                    <h4>üåê Servicios Web</h4>
                    <p>Acceso a servicios desplegados</p>
                    <a href="http://[2025:db8:101::1]" target="_blank">HTTP Server (IPv6)</a><br>
                    <a href="ftp://[2025:db8:101::1]" target="_blank">FTP Server (IPv6)</a>
                </div>
            </div>
        </div>

        <!-- Estado del Proyecto -->
        <div class="section">
            <h3>‚úÖ Estado del Proyecto</h3>
            <div class="host-grid">
                <div class="host-card">
                    <h4>Infraestructura</h4>
                    <p class="status-ok">‚úÖ VMs creadas en ESXi</p>
                    <p class="status-ok">‚úÖ Dispositivos IOS configurados</p>
                    <p class="status-ok">‚úÖ Red IPv6 funcional</p>
                </div>
                <div class="host-card">
                    <h4>Servicios</h4>
                    <p class="status-ok">‚úÖ RADVD (Router Advertisement)</p>
                    <p class="status-ok">‚úÖ DHCPv6 configurado</p>
                    <p class="status-ok">‚úÖ HTTP/FTP desplegados</p>
                </div>
                <div class="host-card">
                    <h4>Seguridad</h4>
                    <p class="status-ok">‚úÖ Firewall asim√©trico</p>
                    <p class="status-ok">‚úÖ SSH hardening</p>
                    <p class="status-ok">‚úÖ Sistema hardening</p>
                </div>
                <div class="host-card">
                    <h4>Evidencias</h4>
                    <p class="status-ok">‚úÖ Configuraciones guardadas</p>
                    <p class="status-ok">‚úÖ Tests de conectividad</p>
                    <p class="status-ok">‚úÖ Capturas de tr√°fico</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
            <p><strong>Proyecto:</strong> Red Acad√©mica IPv6 VMWARE-101001</p>
            <p><strong>Automatizaci√≥n:</strong> Ansible</p>
            <p><strong>Hosts Configurados:</strong> {{ groups['all'] | length }}</p>
            <p><strong>Generado:</strong> {{ ansible_date_time.iso8601 }}</p>
        </div>
    </div>
</body>
</html>